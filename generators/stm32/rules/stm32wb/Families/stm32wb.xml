<?xml version="1.0"?>
<FamilyDefinition xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
	<Name>STM32WB</Name>
	<DeviceRegex>^STM32WB.*</DeviceRegex>
	<FamilySubdirectory>STM32WBxxxx</FamilySubdirectory>
	<PrimaryHeaderDir>$$STM32:WB_DIR$$\Drivers\CMSIS\Device\ST\STM32WBxx\Include</PrimaryHeaderDir>
	<StartupFileDir>$$STM32:WB_DIR$$\Drivers\CMSIS\Device\ST\STM32WBxx\Source\Templates\gcc</StartupFileDir>
	<Subfamilies>
		<MCUClassifier>
			<VariableName>com.sysprogs.stm32.hal_device_family</VariableName>
			<Required>true</Required>
			<IsPrimary>true</IsPrimary>
			<AutoOptions>STM32WB55xx</AutoOptions>
			<Options/>
		</MCUClassifier>
	</Subfamilies>
	<CompilationFlags>
	<PreprocessorMacros>
	</PreprocessorMacros>
	<IncludeDirectories>
		<string>.</string>
	</IncludeDirectories>
	</CompilationFlags>
	<CoreFramework>
		<CopyJobs>
			<CopyJob>
				<SourceFolder>$$STM32:WB_DIR$$\Middlewares\ST\STM32_WPAN</SourceFolder>
				<FilesToCopy>*</FilesToCopy>
				<ProjectInclusionMask>-*</ProjectInclusionMask>
				<AutoIncludeMask/>
			</CopyJob>
		</CopyJobs>
	</CoreFramework>
	<AdditionalFrameworks>
		<Framework>
			<Name>Bluetooth LE Support</Name>
			<ID>com.sysprogs.arm.stm32.ble</ID>
			<ProjectFolderName>BLE</ProjectFolderName>
			<DefaultEnabled>false</DefaultEnabled>
			<RequiredFrameworks>
				<string>com.sysprogs.arm.stm32.hal</string>
			</RequiredFrameworks>
			<CopyJobs>
				<CopyJob>
					<SourceFolder>$$STM32:WB_DIR$$\Middlewares\ST\STM32_WPAN\ble\core</SourceFolder>
					<TargetFolder>STM32_WPAN/ble/core</TargetFolder>
					<AlreadyCopied>true</AlreadyCopied>
					<FilesToCopy>*</FilesToCopy>
					<ProjectInclusionMask>-*template_*;*.c;*.h</ProjectInclusionMask>
					<AdditionalIncludeDirs>$$SYS:BSP_ROOT$$/STM32WBxxxx/STM32_WPAN/ble</AdditionalIncludeDirs>
					<SmartFileConditions>
						<!-- '-' in front of the name means 'disabled by default' -->
						<string>-Blood Pressure Service|.*\\bls\.(h|c)</string>
						<string>-Cable Replacement Service (ST)|.*\\crs_stm\.(h|c)</string>
						<string>-Device Information Service|.*\\dis\.(h|c)</string>
						<string>-End Device Service (ST)|.*\\eds_stm\.(h|c)</string>
						<string>-Human Interface Device Service|.*\\hids\.(h|c)</string>
						<string>-Heart Rate Service|.*\\hrs\.(h|c)</string>
						<string>-Health Thermometer Service|.*\\hts\.(h|c)</string>
						<string>-Immediate Alert Service|.*\\ias\.(h|c)</string>
						<string>-Link Loss Service|.*\\lls\.(h|c)</string>
						<string>-Mesh|.*\\mesh\.(h|c)</string>
						<string>-OTA Service (ST)|.*\\otas_stm\.(h|c)</string>
						<string>-Peer-to-Peer Service (ST)|.*\\p2p_stm\.(h|c)</string>
						<string>-TX Power Service|.*\\tps\.(h|c)</string>
					</SmartFileConditions>
				</CopyJob>
			</CopyJobs>
			<ConfigurableProperties>
				<PropertyGroups>
				  <PropertyGroup>
				    <Name>Bluetooth LE Services</Name>
					<UniqueID>com.sysprogs.bspoptions.stm32.ble.</UniqueID>
					<CollapsedByDefault>false</CollapsedByDefault>
				  </PropertyGroup>
				</PropertyGroups>
			</ConfigurableProperties>			
		</Framework>
		<Framework>
			<Name>BLE Thread Interface</Name>
			<ID>com.sysprogs.arm.stm32.ble.thread</ID>
			<ProjectFolderName>BLE Thread</ProjectFolderName>
			<DefaultEnabled>false</DefaultEnabled>
			<RequiredFrameworks>
				<string>com.sysprogs.arm.stm32.hal</string>
				<string>com.sysprogs.arm.stm32.ble</string>
			</RequiredFrameworks>
			<CopyJobs>
				<CopyJob>
					<SourceFolder>$$STM32:WB_DIR$$\Middlewares\ST\STM32_WPAN\interface\patterns\ble_thread</SourceFolder>
					<TargetFolder>STM32_WPAN/interface/patterns/ble_thread</TargetFolder>
					<AlreadyCopied>true</AlreadyCopied>
					<FilesToCopy>*</FilesToCopy>
					<ProjectInclusionMask>-*template_*;*.c;*.h</ProjectInclusionMask>
					<AdditionalIncludeDirs>$$SYS:BSP_ROOT$$/STM32WBxxxx/STM32_WPAN</AdditionalIncludeDirs>
					<SmartFileConditions>
						<!-- '-' in front of the name means 'disabled by default' -->
						<string>-Virtual COM Port Support|vcp\\.*</string>
					</SmartFileConditions>
				</CopyJob>
			</CopyJobs>
			<ConfigurableProperties>
				<PropertyGroups>
				  <PropertyGroup>
				    <Name>Bluetooth LE Thread Interface</Name>
					<UniqueID>com.sysprogs.bspoptions.stm32.thread_iface.</UniqueID>
					<CollapsedByDefault>false</CollapsedByDefault>
				  </PropertyGroup>
				</PropertyGroups>
			</ConfigurableProperties>			
		</Framework>
		<Framework>
			<Name>Development Board Support</Name>
			<ID>com.sysprogs.arm.stm32.stm32bsp</ID>
			<ProjectFolderName>Board</ProjectFolderName>
			<DefaultEnabled>false</DefaultEnabled>
			<RequiredFrameworks>
				<string>com.sysprogs.arm.stm32.hal</string>
			</RequiredFrameworks>
			<CopyJobs>
				<CopyJob>
					<SourceFolder>$$STM32:WB_DIR$$\Drivers\BSP</SourceFolder>
					<TargetFolder>BSP</TargetFolder>
					<FilesToCopy>*</FilesToCopy>
					<ProjectInclusionMask>-*template_*;*.c;*.h</ProjectInclusionMask>
					<SmartFileConditions>
						<!-- '-' in front of the name means 'disabled by default' -->
						<string>Board Type|=>None;P-NUCLEO-WB55.Nucleo\\.*=>NUCLEO-WB55;P-NUCLEO-WB55.USBDongle\\.*=>NUCLEO-WB55 (USB Dongle)</string>
						<string>-Adafruit Shield Support|Adafruit_Shield\\.*</string>
						<string>-External Components|Components\\.*</string>
					</SmartFileConditions>
				</CopyJob>
			</CopyJobs>
			<ConfigurableProperties>
				<PropertyGroups>
				  <PropertyGroup>
				    <Name>Development Board</Name>
					<UniqueID>com.sysprogs.bspoptions.stm32.board.</UniqueID>
					<CollapsedByDefault>false</CollapsedByDefault>
				  </PropertyGroup>
				</PropertyGroups>
			</ConfigurableProperties>			
		</Framework>
		<Framework>
			<Name>Bluetooth LE Utilities</Name>
			<ID>com.sysprogs.arm.stm32.ble_utilities</ID>
			<ProjectFolderName>BLE Utilities</ProjectFolderName>
			<DefaultEnabled>false</DefaultEnabled>
			<RequiredFrameworks>
				<string>com.sysprogs.arm.stm32.hal</string>
			</RequiredFrameworks>
			<CopyJobs>
				<CopyJob>
					<SourceFolder>$$STM32:WB_DIR$$\Middlewares\ST\STM32_WPAN\utilities</SourceFolder>
					<TargetFolder>STM32_WPAN/utilities</TargetFolder>
					<AlreadyCopied>true</AlreadyCopied>
					<FilesToCopy>*</FilesToCopy>
				</CopyJob>
			</CopyJobs>
		</Framework>
	</AdditionalFrameworks>
	<SmartSamples>
	</SmartSamples>
      <AdditionalSystemVars>
        <SysVarEntry>
          <Key>com.sysprogs.stm32.hal_header_prefix</Key>
          <Value>stm32wbxx</Value>
        </SysVarEntry>
        <SysVarEntry>
          <Key>com.sysprogs.bspoptions.stm32.hal_system_file</Key>
          <Value>STM32WBxxxx/CMSIS_HAL/Device/ST/STM32WBxx/Source/Templates/system_stm32wbxx.c</Value>
        </SysVarEntry>
        <SysVarEntry>
          <Key>com.sysprogs.bspoptions.stm32.hal_config_template_file</Key>
          <Value>STM32WBxxxx/STM32WBxx_HAL_Driver/Inc/stm32wbxx_hal_conf_template.h</Value>
        </SysVarEntry>
      </AdditionalSystemVars>
</FamilyDefinition>
